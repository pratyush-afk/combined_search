import React, { useState } from 'react';

const ProjectForm = () => {
  // 1. State for input fields and file
  const [teamName, setTeamName] = useState('');
  const [projectCode, setProjectCode] = useState('');
  const [uploadedFile, setUploadedFile] = useState(null);

  // 2. Handler for input changes
  const handleInputChange = (e) => {
    const { name, value } = e.target;
    if (name === 'teamName') {
      setTeamName(value);
    } else if (name === 'projectCode') {
      setProjectCode(value);
    }
  };

  // 3. Handler for file selection
  const handleFileChange = (e) => {
    // e.target.files is a FileList object
    // We take the first file in the list
    setUploadedFile(e.target.files[0]);
  };

  // 4. Handler for form submission
  const handleSubmit = (e) => {
    e.preventDefault(); // Prevents the default form submission (page reload)

    console.log('--- Form Submitted ---');
    console.log('Team Name:', teamName);
    console.log('Project Code:', projectCode);
    console.log('Uploaded File:', uploadedFile);

    // In a real application, you would send this data to an API endpoint
    // using fetch or axios, likely utilizing FormData for the file.

    // Example of how you'd construct FormData for an API:
    /*
    const formData = new FormData();
    formData.append('teamName', teamName);
    formData.append('projectCode', projectCode);
    if (uploadedFile) {
        formData.append('projectFile', uploadedFile);
    }
    // Then use formData in a fetch/axios call
    */
  };

  return (
    <div style={{ padding: '20px', border: '1px solid #ccc', borderRadius: '8px', maxWidth: '400px', margin: 'auto' }}>
      <h2>ðŸš€ Project Submission Form</h2>
      <form onSubmit={handleSubmit}>

        {/* Input Field for Team Name */}
        <div style={{ marginBottom: '15px' }}>
          <label htmlFor="teamName" style={{ display: 'block', fontWeight: 'bold' }}>Team Name</label>
          <input
            type="text"
            id="teamName"
            name="teamName"
            value={teamName}
            onChange={handleInputChange}
            placeholder="Enter Team Name"
            required
            style={{ width: '100%', padding: '8px', boxSizing: 'border-box', border: '1px solid #ddd', borderRadius: '4px' }}
          />
        </div>

        {/* Input Field for Project Code */}
        <div style={{ marginBottom: '15px' }}>
          <label htmlFor="projectCode" style={{ display: 'block', fontWeight: 'bold' }}>Project Code</label>
          <input
            type="text"
            id="projectCode"
            name="projectCode"
            value={projectCode}
            onChange={handleInputChange}
            placeholder="Enter Project Code (e.g., PJT-001)"
            required
            style={{ width: '100%', padding: '8px', boxSizing: 'border-box', border: '1px solid #ddd', borderRadius: '4px' }}
          />
        </div>

        {/* File Upload Field */}
        <div style={{ marginBottom: '20px' }}>
          <label htmlFor="projectFile" style={{ display: 'block', fontWeight: 'bold' }}>Upload Project File</label>
          <input
            type="file"
            id="projectFile"
            name="projectFile"
            onChange={handleFileChange}
            style={{ padding: '8px' }}
          />
        </div>

        {/* Submit Button */}
        <button
          type="submit"
          style={{
            width: '100%',
            padding: '10px',
            backgroundColor: '#007bff',
            color: 'white',
            border: 'none',
            borderRadius: '4px',
            cursor: 'pointer',
            fontWeight: 'bold'
          }}
        >
          Submit Project
        </button>
      </form>
    </div>
  );
};

export default ProjectForm;
